[
    {
        "instance_id": "beanstalkd__beanstalkd-151",
        "model_name_or_path": "deepseek-chat",
        "dockerfile": "# Base image specification. Use Debian for stability and consistency\nFROM --platform=linux/x86_64 debian:bookworm\n\n# Set environment variables to avoid interactive prompts\nARG DEBIAN_FRONTEND=noninteractive\nENV TZ=Etc/UTC\n\n# System dependencies installation. Install essential tools and libraries required for development and runtime\nRUN apt-get update && apt-get install -y \\\n    wget \\\n    git \\\n    build-essential \\\n    clang \\\n    curl \\\n    locales \\\n    tzdata \\\n    # Required for documentation generation (ronn is mentioned in README)\n    ruby \\\n    ruby-dev \\\n    # Make is required for the build system\n    make \\\n    && rm -rf /var/lib/apt/lists/* \\\n    && localedef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8\n\nENV LANG en_US.utf8\nENV LC_ALL en_US.UTF-8\n\n# Set default workdir to testbed\nWORKDIR /testbed/\n\n# Target Project setup. Clone source code, checkout to the target version, and prepare build environment\nRUN git clone https://github.com/beanstalkd/beanstalkd /testbed && \\\n    chmod -R 777 /testbed\n\n# Install ronn (documentation tool mentioned in README) via gem\nRUN gem install ronn\n\n# Note: The specific commit SHA will be provided during build via --build-arg\nARG TARGET_COMMIT\nRUN if [ -n \"$TARGET_COMMIT\" ]; then \\\n    cd /testbed && \\\n    git reset --hard \"$TARGET_COMMIT\" && \\\n    git remote remove origin; \\\n    fi\n\n# Make sure the version generation scripts are executable\nRUN chmod +x /testbed/vers.sh /testbed/verc.sh\n\n# Print environment info for debugging\nRUN gcc --version && \\\n    make --version && \\\n    which ronn",
        "eval_script": "#!/bin/bash\nset -uxo pipefail\ncd /testbed\n\n# Ensure we are on the correct commit (already done in Dockerfile but double-check)\ngit checkout f43a5470128a1f94210dace36244503148c1f42f\n\n# Apply the test patch\ngit apply -v - <<'EOF_114329324912'\nEOF_114329324912\n\n# According to context retrieval, 'make check' runs all tests\n# The target test files list was empty in the user prompt.\n# Run all tests identified by the repository (the four test files)\n# We'll run 'make check' which executes the complete test suite via ct/_ctcheck\n# This ensures the proper test framework and build system are used.\n\n# Build the project first (ensures all objects are compiled)\nmake\n\n# Run the test suite\nmake check\nrc=$?\n\necho \"OMNIGRIL_EXIT_CODE=$rc\"\n\n# Reset the repository to original state\ngit checkout f43a5470128a1f94210dace36244503148c1f42f -- .",
        "version": "1.7",
        "repo": "beanstalkd/beanstalkd",
        "patch": "diff --git a/doc/protocol.md b/doc/protocol.md\n--- a/doc/protocol.md\n+++ b/doc/protocol.md\n@@ -37,16 +37,14 @@ Names only supports ASCII strings.\n \n ### Job Lifecycle\n \n-A job in beanstalk gets created by a client with the `put` command. During its life it can be in one of four states:\n+A job in beanstalk gets created by a client with the `put` command. During its life it can be in one of four states: `ready`, `reserved`, `delayed`, or `buried`. After the `put` command, a job typically starts out ready. It waits in the ready queue until a worker comes along and runs the \"reserve\" command. If this job is next in the queue, it will be reserved for the worker. The worker will execute the job; when it is finished the worker will send a `delete` command to delete the job.\n \n | Status              | Description   |\n | --------------------| ------------- |\n-| `ready`             | it waits in the ready queue until a worker comes along and runs the \"reserve\" command |\n+| `ready`             | waiting to be reserved and processed after being put onto a tubed |\n | `reserved`          | if this job is next in the queue, it will be reserved for the worker. The worker will execute the job |\n-| `delayed`           | when it's waiting \"x\" seconds before to be `ready` |\n-| `buried`            | when it is finished the worker will send a \"delete\" ; when it is finished the worker will send a \"delete\" |\n-\n-\n+| `delayed`           | waiting to become ready after the specified delay. |\n+| `buried`            | waiting to be kicked, usually after job fails to process |\n \n Here is a picture of the typical job lifecycle:\n \n",
        "status": false
    }
]