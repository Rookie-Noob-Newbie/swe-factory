{"instance_id":"twisted__twisted-11680","repo":"twisted/twisted","pull_number":1985358,"base_commit":"4682c2e9e421cd5bf6e1dda494687d9301e511c6","end_commit":"4825f8bffce4cba2ba47d7dab0903d05a33d570b","patch": "", "test_patch":"","problem_statement":"#11679 LoopingCall vs Clock tests\n## Scope and purpose\r\n\r\nFixes #11679\r\n\r\nFrom the commit message:\r\n\r\n> \r\n> Change the LoopingCall tests to assert more reasonable behavior                                                                                                                   \r\n> \r\n> clock.advance(0) will run not only any calls scheduled for clock.seconds() or\r\n> earlier, but it will also run any calls that _those_ calls schedule with\r\n> `clock.callLater(0, ...)`.\r\n> \r\n> This diverges from the real IReactorTime implementations which force all\r\n> scheduled events to wait at least one reactor iteration before they can run.\r\n> \r\n> This impacts the LoopingCall test cases for the case of interval == 0 because\r\n> those tests do a lot of scheduling with `clock.callLater(0, ...)`.  In\r\n> particular, the tests often `advance(0)` and expect a `LoopingCall` to execute\r\n> multiple iterations.\r\n> \r\n> These changes make the tests advance the clock in enough discrete steps that a\r\n> real reactor would have time to run all of the necessary calls.\r\n> \r\n> After #5962 the old version of these tests will fail.  Also as part of #5962\r\n> one clearly-marked fudge left in these tests will need to be removed because I\r\n> don't see how to make the test work (and remain precise) with both the broken\r\n> Clock behavior and the real reactor behavior.\r\n> ","repo_id":1985358,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"kubernetes-client__python-2018","repo":"kubernetes-client/python","pull_number":72473727,"base_commit":"f4196f9c5f4e0dd970588a8b05ec8160777ffd5e","end_commit":"cdfd750727b1b0aaa8a5ae0f6063fc86e6728cc4","patch": "", "test_patch":"","problem_statement":"Fix snapshot version to be compliant with PEP440.\n#### What type of PR is this?\r\n\r\nThe latest version of setuptools enforces PEP440, where version \"X.Y-snapshot\" is not allowed. The plus sign can be used to separate the local version identifier.\r\n\r\n/kind bug\r\n/kind failing-test\r\n\r\n#### What this PR does / why we need it:\r\n\r\n#### Which issue(s) this PR fixes:\r\n\r\nFixes #2014 \r\n\r\n#### Special notes for your reviewer:\r\n\r\nNONE\r\n\r\n#### Does this PR introduce a user-facing change?\r\n\r\nNONE\r\n\r\n#### Additional documentation e.g., KEPs (Kubernetes Enhancement Proposals), usage docs, etc.:\r\n","repo_id":72473727,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"griptape-ai__griptape-nodes-2352","repo":"griptape-ai/griptape-nodes","pull_number":952782509,"base_commit":"a2d24a4a826b67a1513cb278b1bd5111e18be046","end_commit":"b0269e716d7d12875350725365f75a494fd29cbf","patch": "", "test_patch":"","problem_statement":"update: merge_text handles additional input types\nfixes: #2351","repo_id":952782509,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"open-formulieren__open-forms-2233","repo":"open-formulieren/open-forms","pull_number":287044602,"base_commit":"bd3ca40e19747b6f3978799b774c989be93db17a","end_commit":"9ebbeac20be946554f68a5a6ea18c8eda7908cb4","patch": "", "test_patch":"","problem_statement":":wrench: [#2228] Prepare settings for i18n\nFixes: #2228 \r\n\r\nChanges:\r\n* Add settings for i18n","repo_id":287044602,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"eliranwong__UniqueBible-817","repo":"eliranwong/UniqueBible","pull_number":164413619,"base_commit":"98ebdfeda761584ccb2d4b37612068d96189e50c","end_commit":"e2a136ee04c159aaad6235e0c65fdc49e877e675","patch": "", "test_patch":"","problem_statement":"Ver 26.23; Fix changing Bible for presentation in master control (#165)\nFix changing Bible for presentation in master control\r\nFix starter menu layout not starting when toolBarIconFullSize is true\r\nFix Bible list in starter menu after downloading a Bible","repo_id":164413619,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"RuminantFarmSystems__RuFaS-848","repo":"RuminantFarmSystems/RuFaS","pull_number":140479091,"base_commit":"2d9394dc0cd4a71962e65575de2cc47ae393b513","end_commit":"95ceb6bf580dc5e2137b7e299b8560c0d0b04708","patch": "", "test_patch":"","problem_statement":"Snow in Soil\nThis PR solves the following in[ Implement snow in RuFaS #317](https://github.com/RuminantFarmSystems/MASM/issues/317):\r\n- [x] Add a snow content variable to `SoilData`. XS\r\n- [x] Add snow to snow content in `SoilData` when snowfall occurs. S\r\n  - _Note_: do not worry about areal depletion when adding snow to a field. Assume the fraction of field area that is covered by snow is always 1 when snow is present.\r\n- [x] Implement snow melting. L\r\n  - Implement `Snow` class in `soil/`\r\n  - Determine snow temperature (eqn. 1:2.5.1)\r\n  - Determine snow melt amount (eqn.'s 1:2.5.2, 3)","repo_id":140479091,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"Ediminator__hacs-homematicip-hcu-118","repo":"Ediminator/hacs-homematicip-hcu","pull_number":1058375151,"base_commit":"67b7757bdfb308ea9533974e66e2176687a2734b","end_commit":"f7b97501737d8a2283f417777272ac748596c419","patch": "", "test_patch":"","problem_statement":"Fix critical regression: Switch actuators becoming unavailable after toggle (Issue #94)\n## Critical Bug Fix\r\n\r\n### Problem\r\nUser reported that HmIP-DRS8 switches became unavailable (\"ausgegraut\") immediately after clicking them in v1.15.6. This affects all wired switching actuators.\r\n\r\n### Root Cause\r\nThe `process_events()` method in `api.py` had **flawed merge logic** for partial WebSocket updates:\r\n\r\n1. When a switch was toggled, the HCU sent a `DEVICE_CHANGED` event with updated state\r\n2. If this event **didn't include** `functionalChannels` (common for state-only updates), the entire device object was **replaced** instead of **merged**\r\n3. This caused **loss of critical metadata**:\r\n   - `permanentlyReachable` (required for availability check)\r\n   - `modelType`, `firmwareVersion`\r\n   - All channel information\r\n4. Without `permanentlyReachable`, the availability check failed → entity marked unavailable\r\n5. Entity remained stuck as unavailable until HA restart\r\n\r\n### The Fix\r\n\r\nCompletely rewrote device/group merge logic in `api.py:473-489`:\r\n\r\n```python\r\nelif existing_entity := self._state.get(data_key, {}).get(data_id):\r\n    # Merge partial updates - preserves fields not in the update\r\n    if data.get(\"functionalChannels\"):\r\n        existing_entity.setdefault(\"functionalChannels\", {})\r\n        for ch_idx, ch_data in data[\"functionalChannels\"].items():\r\n            existing_entity[\"functionalChannels\"].setdefault(ch_idx, {}).update(ch_data)\r\n\r\n    # Always merge top-level fields (state, firmware, etc.)\r\n    for key, value in data.items():\r\n        if key != \"functionalChannels\":\r\n            existing_entity[key] = value\r\nelse:\r\n    # New device/group - add it to state\r\n    self._state.setdefault(data_key, {})[data_id] = data\r\n```\r\n\r\n### Key improvements:\r\n- Existing devices/groups now always merge incoming data instead of replacing\r\n- Critical metadata preserved across all state updates\r\n- Channel data only updated if present in event, otherwise preserved\r\n- Top-level fields merge properly without data loss\r\n\r\n### Impact\r\n✅ DRS8 and all wired switch actuators remain available after toggling\r\n✅ Prevents data loss from partial WebSocket updates\r\n✅ More robust state management for all device types\r\n✅ Fixes the same issue for dimmers (DRD3) and other actuators\r\n\r\n### Testing Recommendations\r\n- Toggle HmIP-DRS8 switches multiple times - should remain available\r\n- Test with other wired actuators (dimmers, covers, etc.)\r\n- Verify battery-powered devices still work correctly\r\n- Check that partial updates don't cause data loss\r\n\r\n### Files Changed\r\n- custom_components/hcu_integration/api.py - Fixed merge logic in process_events()\r\n- custom_components/hcu_integration/manifest.json - Bumped to v1.15.13\r\n- CHANGELOG.md - Added comprehensive v1.15.13 entry\r\n\r\n### Affected Versions\r\nBroken: v1.15.5 - v1.15.12\r\nFixed: v1.15.13\r\n\r\nFixes #94 Reported-by: @hennengrint","repo_id":1058375151,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"ansible__ansible-69560","repo":"ansible/ansible","pull_number":3638964,"base_commit":"01e7915b0a9778a934a0f0e9e9d110dbef7e31ec","end_commit":"593d8231cd69e2e331a948efdbd0b26e8e4e3894","patch": "", "test_patch":"","problem_statement":"document return values of file module\n##### SUMMARY\r\nFixes #55898 \r\n\r\nThis documents the return values (`path` vs `dest`) for the `file` module.\r\n\r\n##### ISSUE TYPE\r\n\r\n- Docs Pull Request\r\n\r\n##### COMPONENT NAME\r\n\r\nfile\r\n\r\n##### ADDITIONAL INFORMATION\r\n\r\nIt turns out the `file` module has pretty inconsistent return values.\r\n\r\nI documented when it returns `path` vs `dest`.\r\nI also added one of those to the code, because in check mode it might not return it, but it should.\r\n\r\nNote that I haven't tested this. How can I generate the docs locally to test that my yaml is all right?\r\n\r\nI didn't document the `diff` value, which is returned, but is pretty inconsistent. Same with things like `guid`, which only are returned sometimes. Honestly it's a lot of work to figure all that out. Let's just start with these two fields.\r\n\r\nI believe the module should be changed to have it sometimes return both `path` and `dest`, so that there is one which is always returned, always the same.\r\n","repo_id":3638964,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"canonical__hotsos-661","repo":"canonical/hotsos","pull_number":268293081,"base_commit":"2bea39ce19df06f90b91436cea35ee2e0ca4c7db","end_commit":"cc9655f051efa6420c01a9d9af88ac2eaaee801d","patch": "", "test_patch":"","problem_statement":"Support newer sosreport namespace commands path\nSosreport >= 4.3 puts namespace commands under a new path i.e. sos_commands/namespaces/<name>.\r\n\r\nResolves: #660","repo_id":268293081,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
{"instance_id":"ipython__ipython-1289","repo":"ipython/ipython","pull_number":658518,"base_commit":"8e9cbc1eef5c5bdafed7c278c1b3720206131d7c","end_commit":"2911f3ed7db45ec2571772a9e25513559d480179","patch": "", "test_patch":"","problem_statement":"Make autoreload extension work on Python 3.\nSome changes for Python 3 in general, and some changes for the .pyc repository directories introduced in Python 3.2 (PEP 3147)\n\nCloses gh-846\n","repo_id":658518,"version":"0.0","language":"Python","created_at":"1970-01-01T00:00:00Z"}
